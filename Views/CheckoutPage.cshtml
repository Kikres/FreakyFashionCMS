@using FreakyFashion.Models.ViewModels
@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<CheckoutViewModel>

@{
    Layout = "Main.cshtml";
}

<div class="py-5">

    @if(TempData["FormSuccess"] == null)
    {
        <h1 class="display-5 fw-bold lh-1 mb-3">Utcheckning</h1>
        @await Html.PartialAsync("BasketTable", Model.BasketViewModel)

        <h2 class="display-6 lh-1 mb-3">Kunduppgifter</h2>
        @if(!Model.isLoggedIn){
            @await Html.PartialAsync("CheckoutNewForm", Model.CheckoutNewFormViewModel)
        } else {
            @await Html.PartialAsync("CheckoutExistingForm", Model.CheckoutExistingFormViewModel)
        }
    }
    else
    {
        <h1 class="display-5 fw-bold lh-1 mb-3">Tack för ordern!</h1>
    }
</div>