@using FreakyFashion.Models
@using Umbraco.Cms.Core
@using Umbraco.Cms.Web.Common.PublishedModels;
@using FreakyFashion.Models.ViewModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<SearchPageViewModel>


@{
    Layout = "Main.cshtml";
    var count = Model.SearchResults.Count();
    var queryString = Model.QueryString;
    ViewData["Title"] = "Sökning: " + queryString;
}

<!--SearchResult-->
<div class="pt-5">
    <h2 class="fs-3 text-center">@count @(count > 1 || count == 0 ? "träffar" : "träff") på "@queryString"</h2>
    @foreach(var product in Model.SearchResults)
    {
        <product class="d-flex justify-content-center w-100">
            <a class="link-dark text-decoration-none row align-items-center my-3 justify-content-center" href="@product.Url()">
                <div class="col-10 col-sm-8 col-lg-3">
                    <img src="@product.ProductImage.GetCropUrl("Search")" class="d-block mx-auto img-fluid" loading="lazy">
                </div>
                <div class="col-lg-9 d-flex flex-column align-items-start gap-2">
                    <h1 class="fs-2 fw-bold lh-1 mb-3">@product.ProductTitle</h1>
                    <p class="lead">@product.ProductDescription</p>
                    <div class="fs-4">
                        <span class="me-2">@product.ProductPrice</span><span class="">SEK</span>
                    </div>
                </div>
            </a>
        </product>
        <hr>
    }
</div>